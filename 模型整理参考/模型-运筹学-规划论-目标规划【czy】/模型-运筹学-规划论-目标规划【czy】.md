[TOC]

### 模型-运筹学-规划论-目标规划【czy】

### 1. 模型名称

目标规划（Goal programming）

### 2. 适用范围

由于线性规划具有较强的局限性，在考虑**多个目标**的规划过程中，我们更倾向于使用“多目标规划”。

#### 2.1 线性规划的局限性

只能解决一组线性约束条件下，某一目标而且只能是一个目标的最大或最小值的问题，实际决策中，衡量方案优劣考虑多个目标。如：

• 生产计划决策，通常考虑产值、利润、满足市场需求等；

• 生产布局决策，考虑运费、投资、供应、市场、污染等；

这些目标中，有主要的，也有次要的；有最大的，有最小的；有定量的，有定性的；有互相补充的，有互相对立的，LP 则无能为力。

#### 2.2 多目标线性规划的处理方法

• 加权系数法： 为每一目标赋一权数，把多目标转化成单目标, 但权系数难以科学确定。

• 优先等级法： 各目标按重要性归不同优先级而化为单目标。

• 有效解法： 寻求能照顾到各目标而使决策者感到满意的解, 但可行域大时难以列出所有有效解的组合。

• 目标规划法： 对每一个目标函数引入正的或负的偏差变量；引入目标的优先等级和加权系数。

### 3. 概念和参数说明[^1]

#### 3.1 正、负偏差变量 $d^+,d^-$ 

正偏差变量 $d_k^+$ 表示第 k 个目标超过期望值的数值；负偏差变量  $d_k^-$表示第 k 个目标未达到期望值的数值。同一目标的 $d_k^+$ 和 $d_k^-$中至少有一个必须为零。

#### 3.2 绝对约束和目标约束

目标约束即可对原目标函数起作用，也可对原约束起作用。目标约束是目标规划中特有的，是软约束。

绝对约束 (系统约束) 是指必须严格满足的等式或不等式约束。如线性规划中的所有约束条件都是绝对约束，否则无可行解。所以，绝对约束是硬约束。

#### 3.3 优先因子与权系数

目标等级化: 将目标按重要性程度不同依次分成一级目标、二级目标...最次要的目标放在次要的等级中。

1. 对同一目标而言，若有几个决策方案都能使其达到，可认为这些方案就这个目标而言都是最优方案；若达不到，则与目标差距越小的越好。

2. 不同级别的目标的重要性是不可比的。即较高级别的目标没有达到的损失，任何较低级别目标上的收获不可弥补。故在判断最优方案时，首先从较高级别的目标达到的程度来决策，然后再其次级目标的判断。

3. 同一级别的目标可以是多个。各自之间的重要程度可用数量（权数）来描述。因此，同一级别的目标的其中一个的损失，可有其余目标的适当收获来弥补。

优先因子 $P_k$ 是将决策目标按其重要程度排序并表示出来。
$$
P_1>>P_2>>\cdots>>P_k>>P_{k+1}>>\cdots>>P_K(k=1,2,\cdots,K)
$$
表示$P_k$ 比 $P_{k+1}$有更大的优先权。即首先保证 $P_1$ 级目标的实现，这时可不考虑次级目标；而 $P_2$级目标是在实现 $P_1$ 级目标的基础上考虑的；依此类推。

#### 3.4 目标规划的目标函数

目标规划的目标函数 (准则函数) 是按各目标约束的正、负偏差变量和赋予相应的优先因子及权系数而构造的。当每一目标值确定后，决策者的要求是尽可能缩小偏离目标值。因此目标规划的目标函数只能是$minZ=f(d^+,d^-)$。

一般说来，有以下三种情况，但只能出现其中之一：

1. **要求恰好达到规定的目标值**，即正、负偏差变量要尽可能小，则

   $minZ=f(d^+,d^-)$

2. **要求不超过目标值**，即允许达不到目标值，也就是正偏差变量尽可能小，则 

   $minZ=f(d^+)$

3. **要求超过目标值**，即超过量不限，但不低于目标值，也就是负偏差变量尽可能小，则 $minZ=f(d^-)$

对由绝对约束转化而来的目标函数，也照上述处理即可。

### 4. 建模步骤[^2]

1. 根据要研究的问题所提出的各目标与条件

   确定目标值，列出目标约束与绝对约束；

2. 可根据决策者的需要，将某些或全部绝对约束转化为目标约束。

   这时只需要给绝对约束加上负偏差变量和减去正偏差变量即可。

3. 给各目标赋予相应的优先因子$P_k$

4. 对同一优先等级中的各偏差变量，若需要可按其重要程度的不同，赋予相应的权系数

   $l^+_k$和$l^-_k$

5. 根据决策者的要求，构造一个由优先因子和权系数相对应的偏差变量组成的，要求实现极小化的目标函数，即达成函数。

### 5. 实例

------

某厂计划下一个生产周期内生产甲、乙两种产品，已知资料如表所示。制定生产计划，满足下列目标：

​		$P_1$级目标：完成或超额完成利润指标 50000 元；

​		$P_2$ 级目标：产品甲不超过 200 件，产品乙不低于 250 件；

​	    $P_3$ 级目标：现有钢材 3600 吨必须用完

------

分析：题目有三个目标层次，包含四个目标值。

第一目标：$P_1 d_1^-$

第二目标：有两个要求即甲 $d_2^+$，乙 $d_3^-$，但两个具有相同的优先因子，需要确定权系数。本题可用单件利润比作为权系数即$ 70:120$，化简为 $7:12$，$P_2(7d_2^++12d_3^-)$

|          | 甲   | 乙   | 资源限制 |
| -------- | ---- | ---- | -------- |
| 钢材     | 9    | 4    | 3600     |
| 煤炭     | 4    | 5    | 2000     |
| 设备台时 | 3    | 10   | 3000     |
| 单件利润 | 70   | 120  |          |

第三目标：$P_3(d_4^++d_4^-)$
$$
minZ=P_1d_1^-+P_2(7d_2^++12d_3^-)+P_3(d_4^++d_4^-)
$$

$$
s.t.\left\{ \begin{aligned} 70x_1 + 120x_2 + d_1^--d^+_1 = 50000 \\ x_1 + d_2^--  d^+_2 = 200\\ x_2 + d_3^-- d^+_3 = 250\\ 9x_1 + 4x_2 + d_4^-- d^+_4 =  3600\\ 4x_1 + 5x_2 < 2000\\ 3x_1 + 10x_2 < 3000\\ x_1, x_2, d_i^-, d^+_i > 0 \end{aligned} \right.
$$

### 6. 多目标规划解法

#### 6.1 图解法

图解法解题步骤如下：

1. 确定各约束条件的可行域，即将所有约束条件 (包括目标约束和绝对约束，暂不考虑正负偏差变量) 在坐标平面上表示出来；
2. 在目标约束所代表的边界线上，用箭头标出正、负偏差变量值增大的方向；
3. 求满足最高优先等级目标的解；
4. 转到下一个优先等级的目标，在不破坏所有较高优先等级目标的前提下，求出该优先等级目标的解；
5. 重复 4，直到所有优先等级目标都已审查完毕为止；
6. 确定最优解和满意解。

#### 6.2 单纯形法

目标规划与线性规划的数学模型的结构相似，可用前述单纯形算法求解目标规划模型：

• 将优先等级$P_k$视为正常数 (大Ｍ法) 

• 正负偏差变量 $d_k^+,d_k^-$视为松弛变量

• 以负偏差变量 $d_k^-$为初始基变量，建立初始单纯形表

• 检验数的计算与 *LP* 单纯形法相同，即 $\sigma_j=c_j-C_B^iP_j$

• 最优性判别准则类似于 LP 的单纯形算法：

​		**–** 检验数一般是各优先等级因子的代数和

​		**–** 判断检验数的正负和大小

目标规划的数学模型结构与线性规划的数学模型结构形式上没有本质的区别，所以可用单纯形法求解。但要考虑目标规划的数学模型一些特点，作以下规定：

1. 因目标规划问题的目标函数都是求最小化，所以以 $c_j-z_j=0,j=1,2,\cdots,n$为最优准则。

2. 因非基变量的检验数中含有不同等级的优先因子，即
   $$
   c_j-z_j=\sum a(k_j)P_k; j=1,2,\cdots,n;k=1,2,\cdots,K
   $$
   因 $P_1>>P_2>>\cdots>>P_K$ ；从每个检验数的整体来看：检验数的正、负首先决定于$P_1$的系数 $_1^j$ 的正、负。若$_1^j=0$ ，这时此检验数的正、负就决定于$P_2$的系数 $_2^j$的正、负 ...

### 7. 代码实现

~~~
a=[-1 -1 0 0

  0 0 -1 -1

  3 0 2 0

  0 3 0 2];

b=[-30 -30 120 48];

c1=[-100 -90 -80 -70];

c2=[0 3 0 2];

[x1,g1]=linprog(c1,a,b,[],[],zeros(4,1)) %求第一个函数的目标值

[x2,g2]=linprog(c2,a,b,[],[],zeros(4,1)) %求第二个函数的目标值

g3=[g1;g2] %目标goal的值

[x,fval]=fgoalattain('Fun',rand(4,1),g3,abs(g3),a,b,[],[],zeros(4,1))
%这里权重weight=目标goal的绝对值
~~~

### 8. 参考资料

1. [数学建模培训营----目标规划](https://anl.sjtu.edu.cn/mcm/docs/1%E6%A8%A1%E5%9E%8B/1%E8%BF%90%E7%AD%B9%E5%AD%A6/1%E8%A7%84%E5%88%92%E8%AE%BA/%E7%9B%AE%E6%A0%87%E8%A7%84%E5%88%92/doc)



[^1]: 多目标线性规划的
[^2]: 多目标规划建模步骤